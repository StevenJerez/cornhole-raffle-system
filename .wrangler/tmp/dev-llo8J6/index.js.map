{
  "version": 3,
  "sources": ["../bundle-MeSLFG/checked-fetch.js", "../../../src/index.js", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-MeSLFG/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-MeSLFG/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/stevenjerez/repo/cornhole-raffle-system/.wrangler/tmp/dev-llo8J6",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "const WEBHOOK_URL = \"https://workflows.thehiretalent.io/webhook/50d54b65-3faf-45fb-a0fe-1982089861f9\";\n\n// Simple in-memory rate limiting (resets on worker restart)\n// For production, use Cloudflare KV or Durable Objects\nconst rateLimitMap = new Map();\nconst RATE_LIMIT_WINDOW = 60000; // 1 minute\nconst RATE_LIMIT_MAX = 5; // 5 requests per minute per IP\n\nfunction isRateLimited(ip) {\n  const now = Date.now();\n  const record = rateLimitMap.get(ip);\n  \n  if (!record || now - record.timestamp > RATE_LIMIT_WINDOW) {\n    rateLimitMap.set(ip, { timestamp: now, count: 1 });\n    return false;\n  }\n  \n  if (record.count >= RATE_LIMIT_MAX) {\n    return true;\n  }\n  \n  record.count++;\n  return false;\n}\n\nfunction validateEmail(email) {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email) && email.length <= 100;\n}\n\nfunction sanitizeString(str) {\n  if (typeof str !== 'string') return '';\n  return str.trim().slice(0, 100).replace(/<[^>]*>/g, '');\n}\n\nconst GOOGLE_TOKEN_URI = 'https://oauth2.googleapis.com/token';\nconst SHEETS_SCOPE = 'https://www.googleapis.com/auth/spreadsheets';\nconst SESSION_TTL_SECONDS = 60 * 60 * 8;\n\nconst SHEET_CONFIG = {\n  participants: {\n    name: 'Participants',\n    headers: ['name', 'last name', 'email', 'points', 'status'],\n    parse: (row) => ({\n      name: row['name'] || '',\n      last_name: row['last name'] || '',\n      email: row['email'] || '',\n      points: parseInt(row['points'] || '0', 10),\n      status: row['status'] || '',\n    }),\n  },\n  registrations: {\n    name: 'registrations',\n    headers: [\n      'registration_id',\n      'email',\n      'firstName',\n      'lastName',\n      'company',\n      'jobTitle',\n      'phone',\n      'companySize',\n      'attempts_remaining',\n      'tickets_this_registration',\n      'summary_email_sent',\n      'created_at',\n    ],\n    parse: (row) => ({\n      registration_id: row.registration_id || '',\n      email: row.email || '',\n      firstName: row.firstName || '',\n      lastName: row.lastName || '',\n      company: row.company || '',\n      jobTitle: row.jobTitle || '',\n      phone: row.phone || '',\n      companySize: row.companySize || '',\n      attempts_remaining: parseInt(row.attempts_remaining || '0', 10),\n      tickets_this_registration: parseInt(row.tickets_this_registration || '0', 10),\n      summary_email_sent: toBoolean(row.summary_email_sent),\n      created_at: row.created_at || '',\n    }),\n  },\n  contacts: {\n    name: 'contacts',\n    headers: ['email', 'name', 'company', 'email_bonus_applied', 'created_at'],\n    parse: (row) => ({\n      email: row.email || '',\n      name: row.name || '',\n      company: row.company || '',\n      email_bonus_applied: toBoolean(row.email_bonus_applied),\n      created_at: row.created_at || '',\n    }),\n  },\n  ledger: {\n    name: 'ledger',\n    headers: ['id', 'timestamp', 'email', 'registration_id', 'delta', 'reason', 'actor'],\n    parse: (row) => ({\n      id: row.id || '',\n      timestamp: row.timestamp || '',\n      email: row.email || '',\n      registration_id: row.registration_id || '',\n      delta: parseInt(row.delta || '0', 10),\n      reason: row.reason || '',\n      actor: row.actor || '',\n    }),\n  },\n  draws: {\n    name: 'draws',\n    headers: ['draw_id', 'created_at', 'totals_json'],\n    parse: (row) => ({\n      draw_id: row.draw_id || '',\n      created_at: row.created_at || '',\n      totals_json: row.totals_json || '',\n    }),\n  },\n  winners: {\n    name: 'winners',\n    headers: ['draw_id', 'tier', 'name', 'email', 'company', 'prize', 'status', 'timestamp'],\n    parse: (row) => ({\n      draw_id: row.draw_id || '',\n      tier: row.tier || '',\n      name: row.name || '',\n      email: row.email || '',\n      company: row.company || '',\n      prize: row.prize || '',\n      status: row.status || '',\n      timestamp: row.timestamp || '',\n    }),\n  },\n};\n\nfunction toBoolean(value) {\n  if (typeof value === 'boolean') return value;\n  if (typeof value !== 'string') return false;\n  return value.toLowerCase() === 'true' || value === '1' || value.toLowerCase() === 'yes';\n}\n\nfunction normalizeStatus(value) {\n  const normalized = (value || '').toString().trim().toLowerCase();\n  return normalized === 'complete' ? 'complete' : 'pending';\n}\n\nfunction buildParticipantsRows(state) {\n  const registrations = Array.isArray(state.registrations) ? state.registrations : [];\n  const contacts = state.contacts && typeof state.contacts === 'object' ? state.contacts : {};\n  const ledger = Array.isArray(state.ledger) ? state.ledger : [];\n\n  const totalsByEmail = ledger.reduce((acc, entry) => {\n    if (!entry.email) return acc;\n    acc[entry.email] = (acc[entry.email] || 0) + (entry.delta || 0);\n    return acc;\n  }, {});\n\n  const registrationsByEmail = registrations.reduce((acc, reg) => {\n    if (!reg.email) return acc;\n    if (!acc[reg.email]) acc[reg.email] = [];\n    acc[reg.email].push(reg);\n    return acc;\n  }, {});\n\n  const allEmails = new Set([\n    ...Object.keys(contacts || {}),\n    ...Object.keys(totalsByEmail),\n    ...Object.keys(registrationsByEmail),\n  ]);\n\n  const rows = [];\n  allEmails.forEach((email) => {\n    const regs = registrationsByEmail[email] || [];\n    const firstReg = regs[0] || {};\n    const contact = contacts[email] || {};\n    const fullName = (contact.name || '').trim();\n    const lastSpace = fullName.lastIndexOf(' ');\n    const fallbackFirst = lastSpace > 0 ? fullName.slice(0, lastSpace) : fullName;\n    const fallbackLast = lastSpace > 0 ? fullName.slice(lastSpace + 1) : '';\n    const isComplete = regs.length > 0 && regs.every((reg) => (reg.attempts_remaining || 0) <= 0);\n    const status = regs.length ? (isComplete ? 'complete' : 'pending') : 'pending';\n\n    rows.push({\n      name: firstReg.firstName || fallbackFirst || '',\n      last_name: firstReg.lastName || fallbackLast || '',\n      email: email || '',\n      points: totalsByEmail[email] || 0,\n      status,\n    });\n  });\n\n  rows.sort((a, b) => a.email.localeCompare(b.email));\n  return rows;\n}\n\nfunction seedStateFromParticipants(participants) {\n  const registrations = [];\n  const contacts = {};\n  const ledger = [];\n  const now = new Date().toISOString();\n\n  participants.forEach((participant) => {\n    if (!participant.email) return;\n    const rid = `rid_import_${participant.email.replace(/[^a-z0-9]/gi, '')}_${Date.now()}`;\n    const status = normalizeStatus(participant.status);\n    const attemptsRemaining = status === 'complete' ? 0 : 3;\n\n    contacts[participant.email] = {\n      email: participant.email,\n      name: `${participant.name || ''} ${participant.last_name || ''}`.trim(),\n      company: '',\n      email_bonus_applied: false,\n      created_at: now,\n    };\n\n    registrations.push({\n      registration_id: rid,\n      email: participant.email,\n      firstName: participant.name || '',\n      lastName: participant.last_name || '',\n      company: '',\n      jobTitle: '',\n      phone: '',\n      companySize: '',\n      attempts_remaining: attemptsRemaining,\n      tickets_this_registration: participant.points || 1,\n      summary_email_sent: status === 'complete',\n      created_at: now,\n    });\n\n    const points = participant.points || 1;\n\n    ledger.push({\n      id: `ledger_import_${rid}`,\n      email: participant.email,\n      registration_id: rid,\n      delta: points,\n      reason: 'import',\n      actor: 'system',\n      timestamp: now,\n    });\n  });\n\n  return { registrations, contacts, ledger, draws: [], winners: [] };\n}\n\nfunction base64UrlEncodeBytes(bytes) {\n  let binary = '';\n  bytes.forEach((byte) => {\n    binary += String.fromCharCode(byte);\n  });\n  return btoa(binary).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\n\nfunction base64UrlEncodeString(value) {\n  return base64UrlEncodeBytes(new TextEncoder().encode(value));\n}\n\nfunction base64UrlEncodeJson(value) {\n  return base64UrlEncodeString(JSON.stringify(value));\n}\n\nfunction columnLetter(columnCount) {\n  let n = columnCount;\n  let result = '';\n  while (n > 0) {\n    const rem = (n - 1) % 26;\n    result = String.fromCharCode(65 + rem) + result;\n    n = Math.floor((n - 1) / 26);\n  }\n  return result || 'A';\n}\n\nfunction normalizePrivateKey(privateKey) {\n  if (!privateKey) return '';\n  return privateKey.replace(/\\\\n/g, '\\n');\n}\n\nfunction pemToArrayBuffer(pem) {\n  const cleaned = pem\n    .replace('-----BEGIN PRIVATE KEY-----', '')\n    .replace('-----END PRIVATE KEY-----', '')\n    .replace(/\\s+/g, '');\n  const binary = atob(cleaned);\n  const bytes = new Uint8Array(binary.length);\n  for (let i = 0; i < binary.length; i += 1) {\n    bytes[i] = binary.charCodeAt(i);\n  }\n  return bytes.buffer;\n}\n\nasync function signJwtRSA(privateKey, data) {\n  const pem = normalizePrivateKey(privateKey);\n  if (!pem) {\n    throw new Error('Missing Google Sheets private key');\n  }\n  const keyData = pemToArrayBuffer(pem);\n  const cryptoKey = await crypto.subtle.importKey(\n    'pkcs8',\n    keyData,\n    { name: 'RSASSA-PKCS1-v1_5', hash: 'SHA-256' },\n    false,\n    ['sign']\n  );\n  const signature = await crypto.subtle.sign(\n    'RSASSA-PKCS1-v1_5',\n    cryptoKey,\n    new TextEncoder().encode(data)\n  );\n  return base64UrlEncodeBytes(new Uint8Array(signature));\n}\n\nasync function getSheetsAccessToken(env) {\n  const now = Math.floor(Date.now() / 1000);\n  const header = { alg: 'RS256', typ: 'JWT' };\n  const payload = {\n    iss: env.GOOGLE_SHEETS_CLIENT_EMAIL,\n    scope: SHEETS_SCOPE,\n    aud: GOOGLE_TOKEN_URI,\n    iat: now,\n    exp: now + 3600,\n  };\n\n  if (!payload.iss) {\n    throw new Error('Missing Google Sheets client email');\n  }\n\n  const encodedHeader = base64UrlEncodeJson(header);\n  const encodedPayload = base64UrlEncodeJson(payload);\n  const unsignedToken = `${encodedHeader}.${encodedPayload}`;\n  const signature = await signJwtRSA(env.GOOGLE_SHEETS_PRIVATE_KEY, unsignedToken);\n  const assertion = `${unsignedToken}.${signature}`;\n\n  const tokenResponse = await fetch(GOOGLE_TOKEN_URI, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n    body: new URLSearchParams({\n      grant_type: 'urn:ietf:params:oauth:grant-type:jwt-bearer',\n      assertion,\n    }),\n  });\n\n  const tokenData = await tokenResponse.json();\n  if (!tokenResponse.ok) {\n    throw new Error(tokenData.error_description || 'Failed to fetch Google access token');\n  }\n\n  return tokenData.access_token;\n}\n\nasync function signSessionToken(secret, data) {\n  const key = await crypto.subtle.importKey(\n    'raw',\n    new TextEncoder().encode(secret),\n    { name: 'HMAC', hash: 'SHA-256' },\n    false,\n    ['sign']\n  );\n  const signature = await crypto.subtle.sign('HMAC', key, new TextEncoder().encode(data));\n  return base64UrlEncodeBytes(new Uint8Array(signature));\n}\n\nasync function createSessionToken(env) {\n  if (!env.ADMIN_SESSION_SECRET) {\n    throw new Error('Missing ADMIN_SESSION_SECRET');\n  }\n  const now = Math.floor(Date.now() / 1000);\n  const payload = {\n    sub: 'admin',\n    iat: now,\n    exp: now + SESSION_TTL_SECONDS,\n  };\n  const header = { alg: 'HS256', typ: 'JWT' };\n  const encodedHeader = base64UrlEncodeJson(header);\n  const encodedPayload = base64UrlEncodeJson(payload);\n  const unsignedToken = `${encodedHeader}.${encodedPayload}`;\n  const signature = await signSessionToken(env.ADMIN_SESSION_SECRET, unsignedToken);\n  return `${unsignedToken}.${signature}`;\n}\n\nasync function verifySessionToken(env, token) {\n  if (!env.ADMIN_SESSION_SECRET || !token) return false;\n  const parts = token.split('.');\n  if (parts.length !== 3) return false;\n\n  const [encodedHeader, encodedPayload, signature] = parts;\n  const unsignedToken = `${encodedHeader}.${encodedPayload}`;\n  const expectedSignature = await signSessionToken(env.ADMIN_SESSION_SECRET, unsignedToken);\n  if (expectedSignature !== signature) return false;\n\n  const payloadJson = atob(encodedPayload.replace(/-/g, '+').replace(/_/g, '/'));\n  const payload = JSON.parse(payloadJson);\n  const now = Math.floor(Date.now() / 1000);\n  return payload.exp && payload.exp > now && payload.sub === 'admin';\n}\n\nfunction getBearerToken(request) {\n  const authHeader = request.headers.get('Authorization') || '';\n  if (!authHeader.startsWith('Bearer ')) return '';\n  return authHeader.slice(7);\n}\n\nasync function ensureSheetTabs(env, accessToken) {\n  const spreadsheetId = env.GOOGLE_SHEETS_SPREADSHEET_ID;\n  if (!spreadsheetId) {\n    throw new Error('Missing Google Sheets spreadsheet ID');\n  }\n\n  const sheetResponse = await fetch(\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}?fields=sheets.properties.title`,\n    { headers: { Authorization: `Bearer ${accessToken}` } }\n  );\n\n  if (!sheetResponse.ok) {\n    const errorText = await sheetResponse.text();\n    throw new Error(`Failed to load spreadsheet metadata: ${errorText}`);\n  }\n\n  const sheetData = await sheetResponse.json();\n  const existing = new Set(\n    (sheetData.sheets || []).map((sheet) => sheet.properties?.title).filter(Boolean)\n  );\n  const requests = [];\n\n  Object.values(SHEET_CONFIG).forEach((config) => {\n    if (!existing.has(config.name)) {\n      requests.push({ addSheet: { properties: { title: config.name } } });\n    }\n  });\n\n  if (requests.length === 0) return;\n\n  const updateResponse = await fetch(\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}:batchUpdate`,\n    {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ requests }),\n    }\n  );\n\n  if (!updateResponse.ok) {\n    const errorText = await updateResponse.text();\n    throw new Error(`Failed to create sheet tabs: ${errorText}`);\n  }\n}\n\nasync function fetchSheetRows(env, accessToken, config) {\n  const spreadsheetId = env.GOOGLE_SHEETS_SPREADSHEET_ID;\n  const range = `${config.name}!A1:${columnLetter(config.headers.length)}`;\n  const response = await fetch(\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${encodeURIComponent(range)}`,\n    { headers: { Authorization: `Bearer ${accessToken}` } }\n  );\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(`Failed to read ${config.name} sheet: ${errorText}`);\n  }\n\n  const data = await response.json();\n  const values = data.values || [];\n  if (!values.length) return [];\n\n  const headerRow = values[0] || [];\n  const headerIndex = new Map();\n  headerRow.forEach((header, index) => {\n    if (header) {\n      headerIndex.set(header.toLowerCase(), index);\n    }\n  });\n\n  return values\n    .slice(1)\n    .map((row) => {\n      const rowData = {};\n      config.headers.forEach((header) => {\n        const index = headerIndex.get(header.toLowerCase());\n        rowData[header] = index === undefined ? '' : row[index] || '';\n      });\n      return rowData;\n    })\n    .filter((row) => Object.values(row).some((value) => value !== ''))\n    .map((row) => config.parse(row));\n}\n\nasync function writeSheetRows(env, accessToken, config, rows) {\n  const spreadsheetId = env.GOOGLE_SHEETS_SPREADSHEET_ID;\n  const values = [\n    config.headers,\n    ...rows.map((row) =>\n      config.headers.map((header) => {\n        const value = row[header];\n        if (typeof value === 'boolean') return value ? 'true' : 'false';\n        if (value === undefined || value === null) return '';\n        return String(value);\n      })\n    ),\n  ];\n\n  const response = await fetch(\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${encodeURIComponent(\n      `${config.name}!A1`\n    )}?valueInputOption=RAW`,\n    {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ values }),\n    }\n  );\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(`Failed to write ${config.name} sheet: ${errorText}`);\n  }\n}\n\nasync function loadInternalState(env) {\n  const accessToken = await getSheetsAccessToken(env);\n  await ensureSheetTabs(env, accessToken);\n\n  const participants = await fetchSheetRows(env, accessToken, SHEET_CONFIG.participants);\n  const registrations = await fetchSheetRows(env, accessToken, SHEET_CONFIG.registrations);\n  const contactsList = await fetchSheetRows(env, accessToken, SHEET_CONFIG.contacts);\n  const ledger = await fetchSheetRows(env, accessToken, SHEET_CONFIG.ledger);\n  const draws = await fetchSheetRows(env, accessToken, SHEET_CONFIG.draws);\n  const winners = await fetchSheetRows(env, accessToken, SHEET_CONFIG.winners);\n\n  const contacts = {};\n  contactsList.forEach((contact) => {\n    if (contact.email) {\n      contacts[contact.email] = contact;\n    }\n  });\n\n  const hasFullData = registrations.length || contactsList.length || ledger.length || draws.length || winners.length;\n  if (!hasFullData && participants.length) {\n    return seedStateFromParticipants(participants);\n  }\n\n  // Merge any NEW participants that aren't already tracked in contacts/registrations\n  if (participants.length && hasFullData) {\n    const now = new Date().toISOString();\n    participants.forEach((participant) => {\n      if (!participant.email) return;\n      // Skip if this email already exists in contacts\n      if (contacts[participant.email]) return;\n\n      const rid = `rid_import_${participant.email.replace(/[^a-z0-9]/gi, '')}_${Date.now()}`;\n      const status = normalizeStatus(participant.status);\n      const attemptsRemaining = status === 'complete' ? 0 : 3;\n\n      contacts[participant.email] = {\n        email: participant.email,\n        name: `${participant.name || ''} ${participant.last_name || ''}`.trim(),\n        company: '',\n        email_bonus_applied: false,\n        created_at: now,\n      };\n\n      registrations.push({\n        registration_id: rid,\n        email: participant.email,\n        firstName: participant.name || '',\n        lastName: participant.last_name || '',\n        company: '',\n        jobTitle: '',\n        phone: '',\n        companySize: '',\n        attempts_remaining: attemptsRemaining,\n        tickets_this_registration: participant.points || 0,\n        summary_email_sent: status === 'complete',\n        created_at: now,\n      });\n\n      const points = participant.points || 1;\n\n      ledger.push({\n        id: `ledger_import_${rid}`,\n        email: participant.email,\n        registration_id: rid,\n        delta: points,\n        reason: 'import',\n        actor: 'system',\n        timestamp: now,\n      });\n    });\n  }\n\n  return { registrations, contacts, ledger, draws, winners };\n}\n\nasync function saveInternalState(env, state) {\n  const accessToken = await getSheetsAccessToken(env);\n  await ensureSheetTabs(env, accessToken);\n\n  const contactsList = Object.values(state.contacts || {});\n  const participantsRows = buildParticipantsRows(state);\n\n  await writeSheetRows(env, accessToken, SHEET_CONFIG.participants, participantsRows);\n  await writeSheetRows(env, accessToken, SHEET_CONFIG.registrations, state.registrations || []);\n  await writeSheetRows(env, accessToken, SHEET_CONFIG.contacts, contactsList);\n  await writeSheetRows(env, accessToken, SHEET_CONFIG.ledger, state.ledger || []);\n  await writeSheetRows(env, accessToken, SHEET_CONFIG.draws, state.draws || []);\n  await writeSheetRows(env, accessToken, SHEET_CONFIG.winners, state.winners || []);\n}\n\nconst corsHeaders = {\n  'Access-Control-Allow-Origin': '*',\n  'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n  'Access-Control-Allow-Headers': 'Content-Type, Authorization',\n};\n\nexport default {\n  async fetch(request, env, ctx) {\n    const url = new URL(request.url);\n    let path = url.pathname;\n    \n    // Remove the /ifa2026 prefix\n    if (path.startsWith('/ifa2026')) {\n      path = path.slice('/ifa2026'.length) || '/';\n    }\n    \n    // Handle CORS preflight\n    if (request.method === 'OPTIONS') {\n      return new Response(null, { status: 204, headers: corsHeaders });\n    }\n    \n    // Handle API registration endpoint\n    if (path === '/api/register' && request.method === 'POST') {\n      const clientIP = request.headers.get('CF-Connecting-IP') || 'unknown';\n      \n      // Rate limiting\n      if (isRateLimited(clientIP)) {\n        return new Response(\n          JSON.stringify({ error: 'Too many requests. Please wait a moment.' }),\n          { \n            status: 429, \n            headers: { 'Content-Type': 'application/json', ...corsHeaders } \n          }\n        );\n      }\n      \n      try {\n        const body = await request.json();\n        \n        // Validate required fields\n        if (!body.firstName || !body.lastName || !body.email) {\n          return new Response(\n            JSON.stringify({ error: 'All fields are required' }),\n            { status: 400, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n        \n        // Validate email\n        if (!validateEmail(body.email)) {\n          return new Response(\n            JSON.stringify({ error: 'Invalid email address' }),\n            { status: 400, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n        \n        // Sanitize inputs\n        const sanitizedData = {\n          firstName: sanitizeString(body.firstName),\n          lastName: sanitizeString(body.lastName),\n          email: body.email.trim().toLowerCase().slice(0, 100),\n          source: 'ifa2026-raffle',\n          submittedAt: new Date().toISOString(),\n          clientIP: clientIP,\n        };\n        \n        // Forward to webhook\n        let webhookResponse;\n        try {\n          webhookResponse = await fetch(WEBHOOK_URL, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(sanitizedData),\n          });\n        } catch (fetchError) {\n          console.error('Fetch error:', fetchError.message);\n          return new Response(\n            JSON.stringify({ error: 'Network error. Please try again.', details: fetchError.message }),\n            { status: 500, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n        \n        // Accept 200-299 status codes as success\n        if (webhookResponse.status >= 200 && webhookResponse.status < 300) {\n          return new Response(\n            JSON.stringify({ success: true }),\n            { status: 200, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        } else {\n          const webhookError = await webhookResponse.text();\n          console.error('Webhook error:', webhookResponse.status, webhookError);\n          return new Response(\n            JSON.stringify({ error: 'Registration failed. Please try again.', status: webhookResponse.status }),\n            { status: 500, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n      } catch (e) {\n        console.error('Error processing registration:', e.message);\n        return new Response(\n          JSON.stringify({ error: 'Invalid request', details: e.message }),\n          { status: 400, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n        );\n      }\n    }\n\n    // Handle internal admin login\n    if (path === '/api/internal/login' && request.method === 'POST') {\n      try {\n        if (!env.ADMIN_PASSWORD) {\n          return new Response(\n            JSON.stringify({ error: 'Admin password not configured' }),\n            { status: 500, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n\n        const body = await request.json();\n        const password = typeof body.password === 'string' ? body.password : '';\n\n        if (password !== env.ADMIN_PASSWORD) {\n          return new Response(\n            JSON.stringify({ error: 'Invalid password' }),\n            { status: 401, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n\n        const token = await createSessionToken(env);\n        return new Response(\n          JSON.stringify({ token, expiresIn: SESSION_TTL_SECONDS }),\n          {\n            status: 200,\n            headers: {\n              'Content-Type': 'application/json',\n              'Cache-Control': 'no-store, max-age=0',\n              ...corsHeaders,\n            },\n          }\n        );\n      } catch (error) {\n        return new Response(\n          JSON.stringify({ error: 'Login failed', details: error.message }),\n          { status: 500, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n        );\n      }\n    }\n\n    // Handle internal state read/write\n    if (path === '/api/internal/state') {\n      const token = getBearerToken(request);\n      const isAuthorized = await verifySessionToken(env, token);\n\n      if (!isAuthorized) {\n        return new Response(\n          JSON.stringify({ error: 'Unauthorized' }),\n          { status: 401, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n        );\n      }\n\n      if (request.method === 'GET') {\n        try {\n          const state = await loadInternalState(env);\n          return new Response(\n            JSON.stringify(state),\n            {\n              status: 200,\n              headers: {\n                'Content-Type': 'application/json',\n                'Cache-Control': 'no-store, max-age=0',\n                ...corsHeaders,\n              },\n            }\n          );\n        } catch (error) {\n          return new Response(\n            JSON.stringify({ error: 'Failed to load state', details: error.message }),\n            { status: 500, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n      }\n\n      if (request.method === 'POST') {\n        try {\n          const body = await request.json();\n          const state = {\n            registrations: Array.isArray(body.registrations) ? body.registrations : [],\n            contacts: body.contacts && typeof body.contacts === 'object' ? body.contacts : {},\n            ledger: Array.isArray(body.ledger) ? body.ledger : [],\n            draws: Array.isArray(body.draws) ? body.draws : [],\n            winners: Array.isArray(body.winners) ? body.winners : [],\n          };\n\n          await saveInternalState(env, state);\n          return new Response(\n            JSON.stringify({ success: true }),\n            {\n              status: 200,\n              headers: {\n                'Content-Type': 'application/json',\n                'Cache-Control': 'no-store, max-age=0',\n                ...corsHeaders,\n              },\n            }\n          );\n        } catch (error) {\n          return new Response(\n            JSON.stringify({ error: 'Failed to save state', details: error.message }),\n            { status: 500, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n          );\n        }\n      }\n\n      return new Response(\n        JSON.stringify({ error: 'Method not allowed' }),\n        { status: 405, headers: { 'Content-Type': 'application/json', ...corsHeaders } }\n      );\n    }\n    \n    // Default to index.html for root or non-asset paths (SPA routing)\n    if (path === '/' || (!path.includes('.') && !path.startsWith('/assets'))) {\n      path = '/index.html';\n    }\n    \n    // Build GCS URL\n    const gcsUrl = `https://storage.googleapis.com/${env.GCS_BUCKET}${path}`;\n    \n    try {\n      const response = await fetch(gcsUrl, {\n        headers: {\n          'Accept': request.headers.get('Accept') || '*/*',\n        },\n      });\n      \n      if (response.ok) {\n        // Clone response and add correct content-type headers\n        const headers = new Headers(response.headers);\n        \n        // Set correct content types\n        if (path.endsWith('.js')) {\n          headers.set('Content-Type', 'application/javascript');\n        } else if (path.endsWith('.css')) {\n          headers.set('Content-Type', 'text/css');\n        } else if (path.endsWith('.html')) {\n          headers.set('Content-Type', 'text/html');\n        } else if (path.endsWith('.png')) {\n          headers.set('Content-Type', 'image/png');\n        }\n        \n        // Add caching headers\n        if (path.startsWith('/assets/')) {\n          headers.set('Cache-Control', 'public, max-age=31536000, immutable');\n        }\n        \n        return new Response(response.body, {\n          status: response.status,\n          headers,\n        });\n      }\n      \n      // If asset not found, try index.html for SPA routing\n      if (response.status === 404 && !path.startsWith('/assets/')) {\n        const indexUrl = `https://storage.googleapis.com/${env.GCS_BUCKET}/index.html`;\n        const indexResponse = await fetch(indexUrl);\n        if (indexResponse.ok) {\n          return new Response(indexResponse.body, {\n            status: 200,\n            headers: {\n              'Content-Type': 'text/html',\n            },\n          });\n        }\n      }\n      \n      return new Response('Not found', { status: 404 });\n    } catch (e) {\n      return new Response(`Error: ${e.message}`, { status: 500 });\n    }\n  },\n};\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/stevenjerez/repo/cornhole-raffle-system/src/index.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/stevenjerez/repo/cornhole-raffle-system/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/stevenjerez/repo/cornhole-raffle-system/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/stevenjerez/repo/cornhole-raffle-system/src/index.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/stevenjerez/repo/cornhole-raffle-system/.wrangler/tmp/bundle-MeSLFG/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/stevenjerez/repo/cornhole-raffle-system/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/stevenjerez/repo/cornhole-raffle-system/.wrangler/tmp/bundle-MeSLFG/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/stevenjerez/repo/cornhole-raffle-system/.wrangler/tmp/bundle-MeSLFG/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": ";;;;AAAA,IAAM,OAAO,oBAAI,IAAI;AAErB,SAAS,SAAS,SAAS,MAAM;AAChC,QAAM,MACL,mBAAmB,MAChB,UACA,IAAI;AAAA,KACH,OAAO,YAAY,WACjB,IAAI,QAAQ,SAAS,IAAI,IACzB,SACD;AAAA,EACH;AACH,MAAI,IAAI,QAAQ,IAAI,SAAS,SAAS,IAAI,aAAa,UAAU;AAChE,QAAI,CAAC,KAAK,IAAI,IAAI,SAAS,CAAC,GAAG;AAC9B,WAAK,IAAI,IAAI,SAAS,CAAC;AACvB,cAAQ;AAAA,QACP;AAAA,KACO,IAAI,SAAS,CAAC;AAAA;AAAA,MACtB;AAAA,IACD;AAAA,EACD;AACD;AAnBS;AAqBT,WAAW,QAAQ,IAAI,MAAM,WAAW,OAAO;AAAA,EAC9C,MAAM,QAAQ,SAAS,UAAU;AAChC,UAAM,CAAC,SAAS,IAAI,IAAI;AACxB,aAAS,SAAS,IAAI;AACtB,WAAO,QAAQ,MAAM,QAAQ,SAAS,QAAQ;AAAA,EAC/C;AACD,CAAC;;;AC7BD,IAAM,cAAc;AAIpB,IAAM,eAAe,oBAAI,IAAI;AAC7B,IAAM,oBAAoB;AAC1B,IAAM,iBAAiB;AAEvB,SAAS,cAAc,IAAI;AACzB,QAAM,MAAM,KAAK,IAAI;AACrB,QAAM,SAAS,aAAa,IAAI,EAAE;AAElC,MAAI,CAAC,UAAU,MAAM,OAAO,YAAY,mBAAmB;AACzD,iBAAa,IAAI,IAAI,EAAE,WAAW,KAAK,OAAO,EAAE,CAAC;AACjD,WAAO;AAAA,EACT;AAEA,MAAI,OAAO,SAAS,gBAAgB;AAClC,WAAO;AAAA,EACT;AAEA,SAAO;AACP,SAAO;AACT;AAfS;AAiBT,SAAS,cAAc,OAAO;AAC5B,QAAM,aAAa;AACnB,SAAO,WAAW,KAAK,KAAK,KAAK,MAAM,UAAU;AACnD;AAHS;AAKT,SAAS,eAAe,KAAK;AAC3B,MAAI,OAAO,QAAQ,SAAU,QAAO;AACpC,SAAO,IAAI,KAAK,EAAE,MAAM,GAAG,GAAG,EAAE,QAAQ,YAAY,EAAE;AACxD;AAHS;AAKT,IAAM,mBAAmB;AACzB,IAAM,eAAe;AACrB,IAAM,sBAAsB,KAAK,KAAK;AAEtC,IAAM,eAAe;AAAA,EACnB,cAAc;AAAA,IACZ,MAAM;AAAA,IACN,SAAS,CAAC,QAAQ,aAAa,SAAS,UAAU,QAAQ;AAAA,IAC1D,OAAO,wBAAC,SAAS;AAAA,MACf,MAAM,IAAI,MAAM,KAAK;AAAA,MACrB,WAAW,IAAI,WAAW,KAAK;AAAA,MAC/B,OAAO,IAAI,OAAO,KAAK;AAAA,MACvB,QAAQ,SAAS,IAAI,QAAQ,KAAK,KAAK,EAAE;AAAA,MACzC,QAAQ,IAAI,QAAQ,KAAK;AAAA,IAC3B,IANO;AAAA,EAOT;AAAA,EACA,eAAe;AAAA,IACb,MAAM;AAAA,IACN,SAAS;AAAA,MACP;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,OAAO,wBAAC,SAAS;AAAA,MACf,iBAAiB,IAAI,mBAAmB;AAAA,MACxC,OAAO,IAAI,SAAS;AAAA,MACpB,WAAW,IAAI,aAAa;AAAA,MAC5B,UAAU,IAAI,YAAY;AAAA,MAC1B,SAAS,IAAI,WAAW;AAAA,MACxB,UAAU,IAAI,YAAY;AAAA,MAC1B,OAAO,IAAI,SAAS;AAAA,MACpB,aAAa,IAAI,eAAe;AAAA,MAChC,oBAAoB,SAAS,IAAI,sBAAsB,KAAK,EAAE;AAAA,MAC9D,2BAA2B,SAAS,IAAI,6BAA6B,KAAK,EAAE;AAAA,MAC5E,oBAAoB,UAAU,IAAI,kBAAkB;AAAA,MACpD,YAAY,IAAI,cAAc;AAAA,IAChC,IAbO;AAAA,EAcT;AAAA,EACA,UAAU;AAAA,IACR,MAAM;AAAA,IACN,SAAS,CAAC,SAAS,QAAQ,WAAW,uBAAuB,YAAY;AAAA,IACzE,OAAO,wBAAC,SAAS;AAAA,MACf,OAAO,IAAI,SAAS;AAAA,MACpB,MAAM,IAAI,QAAQ;AAAA,MAClB,SAAS,IAAI,WAAW;AAAA,MACxB,qBAAqB,UAAU,IAAI,mBAAmB;AAAA,MACtD,YAAY,IAAI,cAAc;AAAA,IAChC,IANO;AAAA,EAOT;AAAA,EACA,QAAQ;AAAA,IACN,MAAM;AAAA,IACN,SAAS,CAAC,MAAM,aAAa,SAAS,mBAAmB,SAAS,UAAU,OAAO;AAAA,IACnF,OAAO,wBAAC,SAAS;AAAA,MACf,IAAI,IAAI,MAAM;AAAA,MACd,WAAW,IAAI,aAAa;AAAA,MAC5B,OAAO,IAAI,SAAS;AAAA,MACpB,iBAAiB,IAAI,mBAAmB;AAAA,MACxC,OAAO,SAAS,IAAI,SAAS,KAAK,EAAE;AAAA,MACpC,QAAQ,IAAI,UAAU;AAAA,MACtB,OAAO,IAAI,SAAS;AAAA,IACtB,IARO;AAAA,EAST;AAAA,EACA,OAAO;AAAA,IACL,MAAM;AAAA,IACN,SAAS,CAAC,WAAW,cAAc,aAAa;AAAA,IAChD,OAAO,wBAAC,SAAS;AAAA,MACf,SAAS,IAAI,WAAW;AAAA,MACxB,YAAY,IAAI,cAAc;AAAA,MAC9B,aAAa,IAAI,eAAe;AAAA,IAClC,IAJO;AAAA,EAKT;AAAA,EACA,SAAS;AAAA,IACP,MAAM;AAAA,IACN,SAAS,CAAC,WAAW,QAAQ,QAAQ,SAAS,WAAW,SAAS,UAAU,WAAW;AAAA,IACvF,OAAO,wBAAC,SAAS;AAAA,MACf,SAAS,IAAI,WAAW;AAAA,MACxB,MAAM,IAAI,QAAQ;AAAA,MAClB,MAAM,IAAI,QAAQ;AAAA,MAClB,OAAO,IAAI,SAAS;AAAA,MACpB,SAAS,IAAI,WAAW;AAAA,MACxB,OAAO,IAAI,SAAS;AAAA,MACpB,QAAQ,IAAI,UAAU;AAAA,MACtB,WAAW,IAAI,aAAa;AAAA,IAC9B,IATO;AAAA,EAUT;AACF;AAEA,SAAS,UAAU,OAAO;AACxB,MAAI,OAAO,UAAU,UAAW,QAAO;AACvC,MAAI,OAAO,UAAU,SAAU,QAAO;AACtC,SAAO,MAAM,YAAY,MAAM,UAAU,UAAU,OAAO,MAAM,YAAY,MAAM;AACpF;AAJS;AAMT,SAAS,gBAAgB,OAAO;AAC9B,QAAM,cAAc,SAAS,IAAI,SAAS,EAAE,KAAK,EAAE,YAAY;AAC/D,SAAO,eAAe,aAAa,aAAa;AAClD;AAHS;AAKT,SAAS,sBAAsB,OAAO;AACpC,QAAM,gBAAgB,MAAM,QAAQ,MAAM,aAAa,IAAI,MAAM,gBAAgB,CAAC;AAClF,QAAM,WAAW,MAAM,YAAY,OAAO,MAAM,aAAa,WAAW,MAAM,WAAW,CAAC;AAC1F,QAAM,SAAS,MAAM,QAAQ,MAAM,MAAM,IAAI,MAAM,SAAS,CAAC;AAE7D,QAAM,gBAAgB,OAAO,OAAO,CAAC,KAAK,UAAU;AAClD,QAAI,CAAC,MAAM,MAAO,QAAO;AACzB,QAAI,MAAM,KAAK,KAAK,IAAI,MAAM,KAAK,KAAK,MAAM,MAAM,SAAS;AAC7D,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AAEL,QAAM,uBAAuB,cAAc,OAAO,CAAC,KAAK,QAAQ;AAC9D,QAAI,CAAC,IAAI,MAAO,QAAO;AACvB,QAAI,CAAC,IAAI,IAAI,KAAK,EAAG,KAAI,IAAI,KAAK,IAAI,CAAC;AACvC,QAAI,IAAI,KAAK,EAAE,KAAK,GAAG;AACvB,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AAEL,QAAM,YAAY,oBAAI,IAAI;AAAA,IACxB,GAAG,OAAO,KAAK,YAAY,CAAC,CAAC;AAAA,IAC7B,GAAG,OAAO,KAAK,aAAa;AAAA,IAC5B,GAAG,OAAO,KAAK,oBAAoB;AAAA,EACrC,CAAC;AAED,QAAM,OAAO,CAAC;AACd,YAAU,QAAQ,CAAC,UAAU;AAC3B,UAAM,OAAO,qBAAqB,KAAK,KAAK,CAAC;AAC7C,UAAM,WAAW,KAAK,CAAC,KAAK,CAAC;AAC7B,UAAM,UAAU,SAAS,KAAK,KAAK,CAAC;AACpC,UAAM,YAAY,QAAQ,QAAQ,IAAI,KAAK;AAC3C,UAAM,YAAY,SAAS,YAAY,GAAG;AAC1C,UAAM,gBAAgB,YAAY,IAAI,SAAS,MAAM,GAAG,SAAS,IAAI;AACrE,UAAM,eAAe,YAAY,IAAI,SAAS,MAAM,YAAY,CAAC,IAAI;AACrE,UAAM,aAAa,KAAK,SAAS,KAAK,KAAK,MAAM,CAAC,SAAS,IAAI,sBAAsB,MAAM,CAAC;AAC5F,UAAM,SAAS,KAAK,SAAU,aAAa,aAAa,YAAa;AAErE,SAAK,KAAK;AAAA,MACR,MAAM,SAAS,aAAa,iBAAiB;AAAA,MAC7C,WAAW,SAAS,YAAY,gBAAgB;AAAA,MAChD,OAAO,SAAS;AAAA,MAChB,QAAQ,cAAc,KAAK,KAAK;AAAA,MAChC;AAAA,IACF,CAAC;AAAA,EACH,CAAC;AAED,OAAK,KAAK,CAAC,GAAG,MAAM,EAAE,MAAM,cAAc,EAAE,KAAK,CAAC;AAClD,SAAO;AACT;AA/CS;AAiDT,SAAS,0BAA0B,cAAc;AAC/C,QAAM,gBAAgB,CAAC;AACvB,QAAM,WAAW,CAAC;AAClB,QAAM,SAAS,CAAC;AAChB,QAAM,OAAM,oBAAI,KAAK,GAAE,YAAY;AAEnC,eAAa,QAAQ,CAAC,gBAAgB;AACpC,QAAI,CAAC,YAAY,MAAO;AACxB,UAAM,MAAM,cAAc,YAAY,MAAM,QAAQ,eAAe,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC;AACpF,UAAM,SAAS,gBAAgB,YAAY,MAAM;AACjD,UAAM,oBAAoB,WAAW,aAAa,IAAI;AAEtD,aAAS,YAAY,KAAK,IAAI;AAAA,MAC5B,OAAO,YAAY;AAAA,MACnB,MAAM,GAAG,YAAY,QAAQ,EAAE,IAAI,YAAY,aAAa,EAAE,GAAG,KAAK;AAAA,MACtE,SAAS;AAAA,MACT,qBAAqB;AAAA,MACrB,YAAY;AAAA,IACd;AAEA,kBAAc,KAAK;AAAA,MACjB,iBAAiB;AAAA,MACjB,OAAO,YAAY;AAAA,MACnB,WAAW,YAAY,QAAQ;AAAA,MAC/B,UAAU,YAAY,aAAa;AAAA,MACnC,SAAS;AAAA,MACT,UAAU;AAAA,MACV,OAAO;AAAA,MACP,aAAa;AAAA,MACb,oBAAoB;AAAA,MACpB,2BAA2B,YAAY,UAAU;AAAA,MACjD,oBAAoB,WAAW;AAAA,MAC/B,YAAY;AAAA,IACd,CAAC;AAED,UAAM,SAAS,YAAY,UAAU;AAErC,WAAO,KAAK;AAAA,MACV,IAAI,iBAAiB,GAAG;AAAA,MACxB,OAAO,YAAY;AAAA,MACnB,iBAAiB;AAAA,MACjB,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,WAAW;AAAA,IACb,CAAC;AAAA,EACH,CAAC;AAED,SAAO,EAAE,eAAe,UAAU,QAAQ,OAAO,CAAC,GAAG,SAAS,CAAC,EAAE;AACnE;AAjDS;AAmDT,SAAS,qBAAqB,OAAO;AACnC,MAAI,SAAS;AACb,QAAM,QAAQ,CAAC,SAAS;AACtB,cAAU,OAAO,aAAa,IAAI;AAAA,EACpC,CAAC;AACD,SAAO,KAAK,MAAM,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,EAAE;AAC/E;AANS;AAQT,SAAS,sBAAsB,OAAO;AACpC,SAAO,qBAAqB,IAAI,YAAY,EAAE,OAAO,KAAK,CAAC;AAC7D;AAFS;AAIT,SAAS,oBAAoB,OAAO;AAClC,SAAO,sBAAsB,KAAK,UAAU,KAAK,CAAC;AACpD;AAFS;AAIT,SAAS,aAAa,aAAa;AACjC,MAAI,IAAI;AACR,MAAI,SAAS;AACb,SAAO,IAAI,GAAG;AACZ,UAAM,OAAO,IAAI,KAAK;AACtB,aAAS,OAAO,aAAa,KAAK,GAAG,IAAI;AACzC,QAAI,KAAK,OAAO,IAAI,KAAK,EAAE;AAAA,EAC7B;AACA,SAAO,UAAU;AACnB;AATS;AAWT,SAAS,oBAAoB,YAAY;AACvC,MAAI,CAAC,WAAY,QAAO;AACxB,SAAO,WAAW,QAAQ,QAAQ,IAAI;AACxC;AAHS;AAKT,SAAS,iBAAiB,KAAK;AAC7B,QAAM,UAAU,IACb,QAAQ,+BAA+B,EAAE,EACzC,QAAQ,6BAA6B,EAAE,EACvC,QAAQ,QAAQ,EAAE;AACrB,QAAM,SAAS,KAAK,OAAO;AAC3B,QAAM,QAAQ,IAAI,WAAW,OAAO,MAAM;AAC1C,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK,GAAG;AACzC,UAAM,CAAC,IAAI,OAAO,WAAW,CAAC;AAAA,EAChC;AACA,SAAO,MAAM;AACf;AAXS;AAaT,eAAe,WAAW,YAAY,MAAM;AAC1C,QAAM,MAAM,oBAAoB,UAAU;AAC1C,MAAI,CAAC,KAAK;AACR,UAAM,IAAI,MAAM,mCAAmC;AAAA,EACrD;AACA,QAAM,UAAU,iBAAiB,GAAG;AACpC,QAAM,YAAY,MAAM,OAAO,OAAO;AAAA,IACpC;AAAA,IACA;AAAA,IACA,EAAE,MAAM,qBAAqB,MAAM,UAAU;AAAA,IAC7C;AAAA,IACA,CAAC,MAAM;AAAA,EACT;AACA,QAAM,YAAY,MAAM,OAAO,OAAO;AAAA,IACpC;AAAA,IACA;AAAA,IACA,IAAI,YAAY,EAAE,OAAO,IAAI;AAAA,EAC/B;AACA,SAAO,qBAAqB,IAAI,WAAW,SAAS,CAAC;AACvD;AAnBe;AAqBf,eAAe,qBAAqB,KAAK;AACvC,QAAM,MAAM,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AACxC,QAAM,SAAS,EAAE,KAAK,SAAS,KAAK,MAAM;AAC1C,QAAM,UAAU;AAAA,IACd,KAAK,IAAI;AAAA,IACT,OAAO;AAAA,IACP,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,MAAM;AAAA,EACb;AAEA,MAAI,CAAC,QAAQ,KAAK;AAChB,UAAM,IAAI,MAAM,oCAAoC;AAAA,EACtD;AAEA,QAAM,gBAAgB,oBAAoB,MAAM;AAChD,QAAM,iBAAiB,oBAAoB,OAAO;AAClD,QAAM,gBAAgB,GAAG,aAAa,IAAI,cAAc;AACxD,QAAM,YAAY,MAAM,WAAW,IAAI,2BAA2B,aAAa;AAC/E,QAAM,YAAY,GAAG,aAAa,IAAI,SAAS;AAE/C,QAAM,gBAAgB,MAAM,MAAM,kBAAkB;AAAA,IAClD,QAAQ;AAAA,IACR,SAAS,EAAE,gBAAgB,oCAAoC;AAAA,IAC/D,MAAM,IAAI,gBAAgB;AAAA,MACxB,YAAY;AAAA,MACZ;AAAA,IACF,CAAC;AAAA,EACH,CAAC;AAED,QAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,MAAI,CAAC,cAAc,IAAI;AACrB,UAAM,IAAI,MAAM,UAAU,qBAAqB,qCAAqC;AAAA,EACtF;AAEA,SAAO,UAAU;AACnB;AApCe;AAsCf,eAAe,iBAAiB,QAAQ,MAAM;AAC5C,QAAM,MAAM,MAAM,OAAO,OAAO;AAAA,IAC9B;AAAA,IACA,IAAI,YAAY,EAAE,OAAO,MAAM;AAAA,IAC/B,EAAE,MAAM,QAAQ,MAAM,UAAU;AAAA,IAChC;AAAA,IACA,CAAC,MAAM;AAAA,EACT;AACA,QAAM,YAAY,MAAM,OAAO,OAAO,KAAK,QAAQ,KAAK,IAAI,YAAY,EAAE,OAAO,IAAI,CAAC;AACtF,SAAO,qBAAqB,IAAI,WAAW,SAAS,CAAC;AACvD;AAVe;AAYf,eAAe,mBAAmB,KAAK;AACrC,MAAI,CAAC,IAAI,sBAAsB;AAC7B,UAAM,IAAI,MAAM,8BAA8B;AAAA,EAChD;AACA,QAAM,MAAM,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AACxC,QAAM,UAAU;AAAA,IACd,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,MAAM;AAAA,EACb;AACA,QAAM,SAAS,EAAE,KAAK,SAAS,KAAK,MAAM;AAC1C,QAAM,gBAAgB,oBAAoB,MAAM;AAChD,QAAM,iBAAiB,oBAAoB,OAAO;AAClD,QAAM,gBAAgB,GAAG,aAAa,IAAI,cAAc;AACxD,QAAM,YAAY,MAAM,iBAAiB,IAAI,sBAAsB,aAAa;AAChF,SAAO,GAAG,aAAa,IAAI,SAAS;AACtC;AAhBe;AAkBf,eAAe,mBAAmB,KAAK,OAAO;AAC5C,MAAI,CAAC,IAAI,wBAAwB,CAAC,MAAO,QAAO;AAChD,QAAM,QAAQ,MAAM,MAAM,GAAG;AAC7B,MAAI,MAAM,WAAW,EAAG,QAAO;AAE/B,QAAM,CAAC,eAAe,gBAAgB,SAAS,IAAI;AACnD,QAAM,gBAAgB,GAAG,aAAa,IAAI,cAAc;AACxD,QAAM,oBAAoB,MAAM,iBAAiB,IAAI,sBAAsB,aAAa;AACxF,MAAI,sBAAsB,UAAW,QAAO;AAE5C,QAAM,cAAc,KAAK,eAAe,QAAQ,MAAM,GAAG,EAAE,QAAQ,MAAM,GAAG,CAAC;AAC7E,QAAM,UAAU,KAAK,MAAM,WAAW;AACtC,QAAM,MAAM,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AACxC,SAAO,QAAQ,OAAO,QAAQ,MAAM,OAAO,QAAQ,QAAQ;AAC7D;AAde;AAgBf,SAAS,eAAe,SAAS;AAC/B,QAAM,aAAa,QAAQ,QAAQ,IAAI,eAAe,KAAK;AAC3D,MAAI,CAAC,WAAW,WAAW,SAAS,EAAG,QAAO;AAC9C,SAAO,WAAW,MAAM,CAAC;AAC3B;AAJS;AAMT,eAAe,gBAAgB,KAAK,aAAa;AAC/C,QAAM,gBAAgB,IAAI;AAC1B,MAAI,CAAC,eAAe;AAClB,UAAM,IAAI,MAAM,sCAAsC;AAAA,EACxD;AAEA,QAAM,gBAAgB,MAAM;AAAA,IAC1B,iDAAiD,aAAa;AAAA,IAC9D,EAAE,SAAS,EAAE,eAAe,UAAU,WAAW,GAAG,EAAE;AAAA,EACxD;AAEA,MAAI,CAAC,cAAc,IAAI;AACrB,UAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,UAAM,IAAI,MAAM,wCAAwC,SAAS,EAAE;AAAA,EACrE;AAEA,QAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,QAAM,WAAW,IAAI;AAAA,KAClB,UAAU,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,MAAM,YAAY,KAAK,EAAE,OAAO,OAAO;AAAA,EACjF;AACA,QAAM,WAAW,CAAC;AAElB,SAAO,OAAO,YAAY,EAAE,QAAQ,CAAC,WAAW;AAC9C,QAAI,CAAC,SAAS,IAAI,OAAO,IAAI,GAAG;AAC9B,eAAS,KAAK,EAAE,UAAU,EAAE,YAAY,EAAE,OAAO,OAAO,KAAK,EAAE,EAAE,CAAC;AAAA,IACpE;AAAA,EACF,CAAC;AAED,MAAI,SAAS,WAAW,EAAG;AAE3B,QAAM,iBAAiB,MAAM;AAAA,IAC3B,iDAAiD,aAAa;AAAA,IAC9D;AAAA,MACE,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,eAAe,UAAU,WAAW;AAAA,QACpC,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM,KAAK,UAAU,EAAE,SAAS,CAAC;AAAA,IACnC;AAAA,EACF;AAEA,MAAI,CAAC,eAAe,IAAI;AACtB,UAAM,YAAY,MAAM,eAAe,KAAK;AAC5C,UAAM,IAAI,MAAM,gCAAgC,SAAS,EAAE;AAAA,EAC7D;AACF;AA9Ce;AAgDf,eAAe,eAAe,KAAK,aAAa,QAAQ;AACtD,QAAM,gBAAgB,IAAI;AAC1B,QAAM,QAAQ,GAAG,OAAO,IAAI,OAAO,aAAa,OAAO,QAAQ,MAAM,CAAC;AACtE,QAAM,WAAW,MAAM;AAAA,IACrB,iDAAiD,aAAa,WAAW,mBAAmB,KAAK,CAAC;AAAA,IAClG,EAAE,SAAS,EAAE,eAAe,UAAU,WAAW,GAAG,EAAE;AAAA,EACxD;AAEA,MAAI,CAAC,SAAS,IAAI;AAChB,UAAM,YAAY,MAAM,SAAS,KAAK;AACtC,UAAM,IAAI,MAAM,kBAAkB,OAAO,IAAI,WAAW,SAAS,EAAE;AAAA,EACrE;AAEA,QAAM,OAAO,MAAM,SAAS,KAAK;AACjC,QAAM,SAAS,KAAK,UAAU,CAAC;AAC/B,MAAI,CAAC,OAAO,OAAQ,QAAO,CAAC;AAE5B,QAAM,YAAY,OAAO,CAAC,KAAK,CAAC;AAChC,QAAM,cAAc,oBAAI,IAAI;AAC5B,YAAU,QAAQ,CAAC,QAAQ,UAAU;AACnC,QAAI,QAAQ;AACV,kBAAY,IAAI,OAAO,YAAY,GAAG,KAAK;AAAA,IAC7C;AAAA,EACF,CAAC;AAED,SAAO,OACJ,MAAM,CAAC,EACP,IAAI,CAAC,QAAQ;AACZ,UAAM,UAAU,CAAC;AACjB,WAAO,QAAQ,QAAQ,CAAC,WAAW;AACjC,YAAM,QAAQ,YAAY,IAAI,OAAO,YAAY,CAAC;AAClD,cAAQ,MAAM,IAAI,UAAU,SAAY,KAAK,IAAI,KAAK,KAAK;AAAA,IAC7D,CAAC;AACD,WAAO;AAAA,EACT,CAAC,EACA,OAAO,CAAC,QAAQ,OAAO,OAAO,GAAG,EAAE,KAAK,CAAC,UAAU,UAAU,EAAE,CAAC,EAChE,IAAI,CAAC,QAAQ,OAAO,MAAM,GAAG,CAAC;AACnC;AArCe;AAuCf,eAAe,eAAe,KAAK,aAAa,QAAQ,MAAM;AAC5D,QAAM,gBAAgB,IAAI;AAC1B,QAAM,SAAS;AAAA,IACb,OAAO;AAAA,IACP,GAAG,KAAK;AAAA,MAAI,CAAC,QACX,OAAO,QAAQ,IAAI,CAAC,WAAW;AAC7B,cAAM,QAAQ,IAAI,MAAM;AACxB,YAAI,OAAO,UAAU,UAAW,QAAO,QAAQ,SAAS;AACxD,YAAI,UAAU,UAAa,UAAU,KAAM,QAAO;AAClD,eAAO,OAAO,KAAK;AAAA,MACrB,CAAC;AAAA,IACH;AAAA,EACF;AAEA,QAAM,WAAW,MAAM;AAAA,IACrB,iDAAiD,aAAa,WAAW;AAAA,MACvE,GAAG,OAAO,IAAI;AAAA,IAChB,CAAC;AAAA,IACD;AAAA,MACE,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,eAAe,UAAU,WAAW;AAAA,QACpC,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM,KAAK,UAAU,EAAE,OAAO,CAAC;AAAA,IACjC;AAAA,EACF;AAEA,MAAI,CAAC,SAAS,IAAI;AAChB,UAAM,YAAY,MAAM,SAAS,KAAK;AACtC,UAAM,IAAI,MAAM,mBAAmB,OAAO,IAAI,WAAW,SAAS,EAAE;AAAA,EACtE;AACF;AAhCe;AAkCf,eAAe,kBAAkB,KAAK;AACpC,QAAM,cAAc,MAAM,qBAAqB,GAAG;AAClD,QAAM,gBAAgB,KAAK,WAAW;AAEtC,QAAM,eAAe,MAAM,eAAe,KAAK,aAAa,aAAa,YAAY;AACrF,QAAM,gBAAgB,MAAM,eAAe,KAAK,aAAa,aAAa,aAAa;AACvF,QAAM,eAAe,MAAM,eAAe,KAAK,aAAa,aAAa,QAAQ;AACjF,QAAM,SAAS,MAAM,eAAe,KAAK,aAAa,aAAa,MAAM;AACzE,QAAM,QAAQ,MAAM,eAAe,KAAK,aAAa,aAAa,KAAK;AACvE,QAAM,UAAU,MAAM,eAAe,KAAK,aAAa,aAAa,OAAO;AAE3E,QAAM,WAAW,CAAC;AAClB,eAAa,QAAQ,CAAC,YAAY;AAChC,QAAI,QAAQ,OAAO;AACjB,eAAS,QAAQ,KAAK,IAAI;AAAA,IAC5B;AAAA,EACF,CAAC;AAED,QAAM,cAAc,cAAc,UAAU,aAAa,UAAU,OAAO,UAAU,MAAM,UAAU,QAAQ;AAC5G,MAAI,CAAC,eAAe,aAAa,QAAQ;AACvC,WAAO,0BAA0B,YAAY;AAAA,EAC/C;AAGA,MAAI,aAAa,UAAU,aAAa;AACtC,UAAM,OAAM,oBAAI,KAAK,GAAE,YAAY;AACnC,iBAAa,QAAQ,CAAC,gBAAgB;AACpC,UAAI,CAAC,YAAY,MAAO;AAExB,UAAI,SAAS,YAAY,KAAK,EAAG;AAEjC,YAAM,MAAM,cAAc,YAAY,MAAM,QAAQ,eAAe,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC;AACpF,YAAM,SAAS,gBAAgB,YAAY,MAAM;AACjD,YAAM,oBAAoB,WAAW,aAAa,IAAI;AAEtD,eAAS,YAAY,KAAK,IAAI;AAAA,QAC5B,OAAO,YAAY;AAAA,QACnB,MAAM,GAAG,YAAY,QAAQ,EAAE,IAAI,YAAY,aAAa,EAAE,GAAG,KAAK;AAAA,QACtE,SAAS;AAAA,QACT,qBAAqB;AAAA,QACrB,YAAY;AAAA,MACd;AAEA,oBAAc,KAAK;AAAA,QACjB,iBAAiB;AAAA,QACjB,OAAO,YAAY;AAAA,QACnB,WAAW,YAAY,QAAQ;AAAA,QAC/B,UAAU,YAAY,aAAa;AAAA,QACnC,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP,aAAa;AAAA,QACb,oBAAoB;AAAA,QACpB,2BAA2B,YAAY,UAAU;AAAA,QACjD,oBAAoB,WAAW;AAAA,QAC/B,YAAY;AAAA,MACd,CAAC;AAED,YAAM,SAAS,YAAY,UAAU;AAErC,aAAO,KAAK;AAAA,QACV,IAAI,iBAAiB,GAAG;AAAA,QACxB,OAAO,YAAY;AAAA,QACnB,iBAAiB;AAAA,QACjB,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,WAAW;AAAA,MACb,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAEA,SAAO,EAAE,eAAe,UAAU,QAAQ,OAAO,QAAQ;AAC3D;AAzEe;AA2Ef,eAAe,kBAAkB,KAAK,OAAO;AAC3C,QAAM,cAAc,MAAM,qBAAqB,GAAG;AAClD,QAAM,gBAAgB,KAAK,WAAW;AAEtC,QAAM,eAAe,OAAO,OAAO,MAAM,YAAY,CAAC,CAAC;AACvD,QAAM,mBAAmB,sBAAsB,KAAK;AAEpD,QAAM,eAAe,KAAK,aAAa,aAAa,cAAc,gBAAgB;AAClF,QAAM,eAAe,KAAK,aAAa,aAAa,eAAe,MAAM,iBAAiB,CAAC,CAAC;AAC5F,QAAM,eAAe,KAAK,aAAa,aAAa,UAAU,YAAY;AAC1E,QAAM,eAAe,KAAK,aAAa,aAAa,QAAQ,MAAM,UAAU,CAAC,CAAC;AAC9E,QAAM,eAAe,KAAK,aAAa,aAAa,OAAO,MAAM,SAAS,CAAC,CAAC;AAC5E,QAAM,eAAe,KAAK,aAAa,aAAa,SAAS,MAAM,WAAW,CAAC,CAAC;AAClF;AAbe;AAef,IAAM,cAAc;AAAA,EAClB,+BAA+B;AAAA,EAC/B,gCAAgC;AAAA,EAChC,gCAAgC;AAClC;AAEA,IAAO,cAAQ;AAAA,EACb,MAAM,MAAM,SAAS,KAAK,KAAK;AAC7B,UAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;AAC/B,QAAI,OAAO,IAAI;AAGf,QAAI,KAAK,WAAW,UAAU,GAAG;AAC/B,aAAO,KAAK,MAAM,WAAW,MAAM,KAAK;AAAA,IAC1C;AAGA,QAAI,QAAQ,WAAW,WAAW;AAChC,aAAO,IAAI,SAAS,MAAM,EAAE,QAAQ,KAAK,SAAS,YAAY,CAAC;AAAA,IACjE;AAGA,QAAI,SAAS,mBAAmB,QAAQ,WAAW,QAAQ;AACzD,YAAM,WAAW,QAAQ,QAAQ,IAAI,kBAAkB,KAAK;AAG5D,UAAI,cAAc,QAAQ,GAAG;AAC3B,eAAO,IAAI;AAAA,UACT,KAAK,UAAU,EAAE,OAAO,2CAA2C,CAAC;AAAA,UACpE;AAAA,YACE,QAAQ;AAAA,YACR,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY;AAAA,UAChE;AAAA,QACF;AAAA,MACF;AAEA,UAAI;AACF,cAAM,OAAO,MAAM,QAAQ,KAAK;AAGhC,YAAI,CAAC,KAAK,aAAa,CAAC,KAAK,YAAY,CAAC,KAAK,OAAO;AACpD,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,0BAA0B,CAAC;AAAA,YACnD,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAGA,YAAI,CAAC,cAAc,KAAK,KAAK,GAAG;AAC9B,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,wBAAwB,CAAC;AAAA,YACjD,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAGA,cAAM,gBAAgB;AAAA,UACpB,WAAW,eAAe,KAAK,SAAS;AAAA,UACxC,UAAU,eAAe,KAAK,QAAQ;AAAA,UACtC,OAAO,KAAK,MAAM,KAAK,EAAE,YAAY,EAAE,MAAM,GAAG,GAAG;AAAA,UACnD,QAAQ;AAAA,UACR,cAAa,oBAAI,KAAK,GAAE,YAAY;AAAA,UACpC;AAAA,QACF;AAGA,YAAI;AACJ,YAAI;AACF,4BAAkB,MAAM,MAAM,aAAa;AAAA,YACzC,QAAQ;AAAA,YACR,SAAS;AAAA,cACP,gBAAgB;AAAA,YAClB;AAAA,YACA,MAAM,KAAK,UAAU,aAAa;AAAA,UACpC,CAAC;AAAA,QACH,SAAS,YAAY;AACnB,kBAAQ,MAAM,gBAAgB,WAAW,OAAO;AAChD,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,oCAAoC,SAAS,WAAW,QAAQ,CAAC;AAAA,YACzF,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAGA,YAAI,gBAAgB,UAAU,OAAO,gBAAgB,SAAS,KAAK;AACjE,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,SAAS,KAAK,CAAC;AAAA,YAChC,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF,OAAO;AACL,gBAAM,eAAe,MAAM,gBAAgB,KAAK;AAChD,kBAAQ,MAAM,kBAAkB,gBAAgB,QAAQ,YAAY;AACpE,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,0CAA0C,QAAQ,gBAAgB,OAAO,CAAC;AAAA,YAClG,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAAA,MACF,SAAS,GAAG;AACV,gBAAQ,MAAM,kCAAkC,EAAE,OAAO;AACzD,eAAO,IAAI;AAAA,UACT,KAAK,UAAU,EAAE,OAAO,mBAAmB,SAAS,EAAE,QAAQ,CAAC;AAAA,UAC/D,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,QACjF;AAAA,MACF;AAAA,IACF;AAGA,QAAI,SAAS,yBAAyB,QAAQ,WAAW,QAAQ;AAC/D,UAAI;AACF,YAAI,CAAC,IAAI,gBAAgB;AACvB,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,gCAAgC,CAAC;AAAA,YACzD,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAEA,cAAM,OAAO,MAAM,QAAQ,KAAK;AAChC,cAAM,WAAW,OAAO,KAAK,aAAa,WAAW,KAAK,WAAW;AAErE,YAAI,aAAa,IAAI,gBAAgB;AACnC,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,mBAAmB,CAAC;AAAA,YAC5C,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAEA,cAAM,QAAQ,MAAM,mBAAmB,GAAG;AAC1C,eAAO,IAAI;AAAA,UACT,KAAK,UAAU,EAAE,OAAO,WAAW,oBAAoB,CAAC;AAAA,UACxD;AAAA,YACE,QAAQ;AAAA,YACR,SAAS;AAAA,cACP,gBAAgB;AAAA,cAChB,iBAAiB;AAAA,cACjB,GAAG;AAAA,YACL;AAAA,UACF;AAAA,QACF;AAAA,MACF,SAAS,OAAO;AACd,eAAO,IAAI;AAAA,UACT,KAAK,UAAU,EAAE,OAAO,gBAAgB,SAAS,MAAM,QAAQ,CAAC;AAAA,UAChE,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,QACjF;AAAA,MACF;AAAA,IACF;AAGA,QAAI,SAAS,uBAAuB;AAClC,YAAM,QAAQ,eAAe,OAAO;AACpC,YAAM,eAAe,MAAM,mBAAmB,KAAK,KAAK;AAExD,UAAI,CAAC,cAAc;AACjB,eAAO,IAAI;AAAA,UACT,KAAK,UAAU,EAAE,OAAO,eAAe,CAAC;AAAA,UACxC,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,QACjF;AAAA,MACF;AAEA,UAAI,QAAQ,WAAW,OAAO;AAC5B,YAAI;AACF,gBAAM,QAAQ,MAAM,kBAAkB,GAAG;AACzC,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,KAAK;AAAA,YACpB;AAAA,cACE,QAAQ;AAAA,cACR,SAAS;AAAA,gBACP,gBAAgB;AAAA,gBAChB,iBAAiB;AAAA,gBACjB,GAAG;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF,SAAS,OAAO;AACd,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,wBAAwB,SAAS,MAAM,QAAQ,CAAC;AAAA,YACxE,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAAA,MACF;AAEA,UAAI,QAAQ,WAAW,QAAQ;AAC7B,YAAI;AACF,gBAAM,OAAO,MAAM,QAAQ,KAAK;AAChC,gBAAM,QAAQ;AAAA,YACZ,eAAe,MAAM,QAAQ,KAAK,aAAa,IAAI,KAAK,gBAAgB,CAAC;AAAA,YACzE,UAAU,KAAK,YAAY,OAAO,KAAK,aAAa,WAAW,KAAK,WAAW,CAAC;AAAA,YAChF,QAAQ,MAAM,QAAQ,KAAK,MAAM,IAAI,KAAK,SAAS,CAAC;AAAA,YACpD,OAAO,MAAM,QAAQ,KAAK,KAAK,IAAI,KAAK,QAAQ,CAAC;AAAA,YACjD,SAAS,MAAM,QAAQ,KAAK,OAAO,IAAI,KAAK,UAAU,CAAC;AAAA,UACzD;AAEA,gBAAM,kBAAkB,KAAK,KAAK;AAClC,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,SAAS,KAAK,CAAC;AAAA,YAChC;AAAA,cACE,QAAQ;AAAA,cACR,SAAS;AAAA,gBACP,gBAAgB;AAAA,gBAChB,iBAAiB;AAAA,gBACjB,GAAG;AAAA,cACL;AAAA,YACF;AAAA,UACF;AAAA,QACF,SAAS,OAAO;AACd,iBAAO,IAAI;AAAA,YACT,KAAK,UAAU,EAAE,OAAO,wBAAwB,SAAS,MAAM,QAAQ,CAAC;AAAA,YACxE,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,UACjF;AAAA,QACF;AAAA,MACF;AAEA,aAAO,IAAI;AAAA,QACT,KAAK,UAAU,EAAE,OAAO,qBAAqB,CAAC;AAAA,QAC9C,EAAE,QAAQ,KAAK,SAAS,EAAE,gBAAgB,oBAAoB,GAAG,YAAY,EAAE;AAAA,MACjF;AAAA,IACF;AAGA,QAAI,SAAS,OAAQ,CAAC,KAAK,SAAS,GAAG,KAAK,CAAC,KAAK,WAAW,SAAS,GAAI;AACxE,aAAO;AAAA,IACT;AAGA,UAAM,SAAS,kCAAkC,IAAI,UAAU,GAAG,IAAI;AAEtE,QAAI;AACF,YAAM,WAAW,MAAM,MAAM,QAAQ;AAAA,QACnC,SAAS;AAAA,UACP,UAAU,QAAQ,QAAQ,IAAI,QAAQ,KAAK;AAAA,QAC7C;AAAA,MACF,CAAC;AAED,UAAI,SAAS,IAAI;AAEf,cAAM,UAAU,IAAI,QAAQ,SAAS,OAAO;AAG5C,YAAI,KAAK,SAAS,KAAK,GAAG;AACxB,kBAAQ,IAAI,gBAAgB,wBAAwB;AAAA,QACtD,WAAW,KAAK,SAAS,MAAM,GAAG;AAChC,kBAAQ,IAAI,gBAAgB,UAAU;AAAA,QACxC,WAAW,KAAK,SAAS,OAAO,GAAG;AACjC,kBAAQ,IAAI,gBAAgB,WAAW;AAAA,QACzC,WAAW,KAAK,SAAS,MAAM,GAAG;AAChC,kBAAQ,IAAI,gBAAgB,WAAW;AAAA,QACzC;AAGA,YAAI,KAAK,WAAW,UAAU,GAAG;AAC/B,kBAAQ,IAAI,iBAAiB,qCAAqC;AAAA,QACpE;AAEA,eAAO,IAAI,SAAS,SAAS,MAAM;AAAA,UACjC,QAAQ,SAAS;AAAA,UACjB;AAAA,QACF,CAAC;AAAA,MACH;AAGA,UAAI,SAAS,WAAW,OAAO,CAAC,KAAK,WAAW,UAAU,GAAG;AAC3D,cAAM,WAAW,kCAAkC,IAAI,UAAU;AACjE,cAAM,gBAAgB,MAAM,MAAM,QAAQ;AAC1C,YAAI,cAAc,IAAI;AACpB,iBAAO,IAAI,SAAS,cAAc,MAAM;AAAA,YACtC,QAAQ;AAAA,YACR,SAAS;AAAA,cACP,gBAAgB;AAAA,YAClB;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF;AAEA,aAAO,IAAI,SAAS,aAAa,EAAE,QAAQ,IAAI,CAAC;AAAA,IAClD,SAAS,GAAG;AACV,aAAO,IAAI,SAAS,UAAU,EAAE,OAAO,IAAI,EAAE,QAAQ,IAAI,CAAC;AAAA,IAC5D;AAAA,EACF;AACF;;;ACp3BA,IAAM,YAAwB,8BAAO,SAAS,KAAK,MAAM,kBAAkB;AAC1E,MAAI;AACH,WAAO,MAAM,cAAc,KAAK,SAAS,GAAG;AAAA,EAC7C,UAAE;AACD,QAAI;AACH,UAAI,QAAQ,SAAS,QAAQ,CAAC,QAAQ,UAAU;AAC/C,cAAM,SAAS,QAAQ,KAAK,UAAU;AACtC,eAAO,EAAE,MAAM,OAAO,KAAK,GAAG,MAAM;AAAA,QAAC;AAAA,MACtC;AAAA,IACD,SAAS,GAAG;AACX,cAAQ,MAAM,4CAA4C,CAAC;AAAA,IAC5D;AAAA,EACD;AACD,GAb8B;AAe9B,IAAO,6CAAQ;;;ACRf,SAAS,YAAY,GAAmB;AACvC,SAAO;AAAA,IACN,MAAM,GAAG;AAAA,IACT,SAAS,GAAG,WAAW,OAAO,CAAC;AAAA,IAC/B,OAAO,GAAG;AAAA,IACV,OAAO,GAAG,UAAU,SAAY,SAAY,YAAY,EAAE,KAAK;AAAA,EAChE;AACD;AAPS;AAUT,IAAM,YAAwB,8BAAO,SAAS,KAAK,MAAM,kBAAkB;AAC1E,MAAI;AACH,WAAO,MAAM,cAAc,KAAK,SAAS,GAAG;AAAA,EAC7C,SAAS,GAAQ;AAChB,UAAM,QAAQ,YAAY,CAAC;AAC3B,WAAO,SAAS,KAAK,OAAO;AAAA,MAC3B,QAAQ;AAAA,MACR,SAAS,EAAE,+BAA+B,OAAO;AAAA,IAClD,CAAC;AAAA,EACF;AACD,GAV8B;AAY9B,IAAO,2CAAQ;;;ACzBJ,IAAM,mCAAmC;AAAA,EAE9B;AAAA,EAAyB;AAC3C;AACA,IAAO,sCAAQ;;;ACcnB,IAAM,wBAAsC,CAAC;AAKtC,SAAS,uBAAuB,MAAqC;AAC3E,wBAAsB,KAAK,GAAG,KAAK,KAAK,CAAC;AAC1C;AAFgB;AAShB,SAAS,uBACR,SACA,KACA,KACA,UACA,iBACsB;AACtB,QAAM,CAAC,MAAM,GAAG,IAAI,IAAI;AACxB,QAAM,gBAAmC;AAAA,IACxC;AAAA,IACA,KAAK,YAAY,QAAQ;AACxB,aAAO,uBAAuB,YAAY,QAAQ,KAAK,UAAU,IAAI;AAAA,IACtE;AAAA,EACD;AACA,SAAO,KAAK,SAAS,KAAK,KAAK,aAAa;AAC7C;AAfS;AAiBF,SAAS,kBACf,SACA,KACA,KACA,UACA,iBACsB;AACtB,SAAO,uBAAuB,SAAS,KAAK,KAAK,UAAU;AAAA,IAC1D,GAAG;AAAA,IACH;AAAA,EACD,CAAC;AACF;AAXgB;;;AC3ChB,IAAM,iCAAN,MAAM,gCAA8D;AAAA,EAGnE,YACU,eACA,MACT,SACC;AAHQ;AACA;AAGT,SAAK,WAAW;AAAA,EACjB;AAAA,EArBD,OAYoE;AAAA;AAAA;AAAA,EAC1D;AAAA,EAUT,UAAU;AACT,QAAI,EAAE,gBAAgB,kCAAiC;AACtD,YAAM,IAAI,UAAU,oBAAoB;AAAA,IACzC;AAEA,SAAK,SAAS;AAAA,EACf;AACD;AAEA,SAAS,oBAAoB,QAA0C;AAEtE,MACC,qCAAqC,UACrC,iCAAiC,WAAW,GAC3C;AACD,WAAO;AAAA,EACR;AAEA,aAAW,cAAc,kCAAkC;AAC1D,wBAAoB,UAAU;AAAA,EAC/B;AAEA,QAAM,kBAA+C,gCACpD,SACA,KACA,KACC;AACD,QAAI,OAAO,UAAU,QAAW;AAC/B,YAAM,IAAI,MAAM,6CAA6C;AAAA,IAC9D;AACA,WAAO,OAAO,MAAM,SAAS,KAAK,GAAG;AAAA,EACtC,GATqD;AAWrD,SAAO;AAAA,IACN,GAAG;AAAA,IACH,MAAM,SAAS,KAAK,KAAK;AACxB,YAAM,aAAyB,gCAAU,MAAM,MAAM;AACpD,YAAI,SAAS,eAAe,OAAO,cAAc,QAAW;AAC3D,gBAAM,aAAa,IAAI;AAAA,YACtB,KAAK,IAAI;AAAA,YACT,KAAK,QAAQ;AAAA,YACb,MAAM;AAAA,YAAC;AAAA,UACR;AACA,iBAAO,OAAO,UAAU,YAAY,KAAK,GAAG;AAAA,QAC7C;AAAA,MACD,GAT+B;AAU/B,aAAO,kBAAkB,SAAS,KAAK,KAAK,YAAY,eAAe;AAAA,IACxE;AAAA,EACD;AACD;AAxCS;AA0CT,SAAS,qBACR,OAC8B;AAE9B,MACC,qCAAqC,UACrC,iCAAiC,WAAW,GAC3C;AACD,WAAO;AAAA,EACR;AAEA,aAAW,cAAc,kCAAkC;AAC1D,wBAAoB,UAAU;AAAA,EAC/B;AAGA,SAAO,cAAc,MAAM;AAAA,IAC1B,mBAAyE,wBACxE,SACA,KACA,QACI;AACJ,WAAK,MAAM;AACX,WAAK,MAAM;AACX,UAAI,MAAM,UAAU,QAAW;AAC9B,cAAM,IAAI,MAAM,sDAAsD;AAAA,MACvE;AACA,aAAO,MAAM,MAAM,OAAO;AAAA,IAC3B,GAXyE;AAAA,IAazE,cAA0B,wBAAC,MAAM,SAAS;AACzC,UAAI,SAAS,eAAe,MAAM,cAAc,QAAW;AAC1D,cAAM,aAAa,IAAI;AAAA,UACtB,KAAK,IAAI;AAAA,UACT,KAAK,QAAQ;AAAA,UACb,MAAM;AAAA,UAAC;AAAA,QACR;AACA,eAAO,MAAM,UAAU,UAAU;AAAA,MAClC;AAAA,IACD,GAT0B;AAAA,IAW1B,MAAM,SAAwD;AAC7D,aAAO;AAAA,QACN;AAAA,QACA,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,MACN;AAAA,IACD;AAAA,EACD;AACD;AAnDS;AAqDT,IAAI;AACJ,IAAI,OAAO,wCAAU,UAAU;AAC9B,kBAAgB,oBAAoB,mCAAK;AAC1C,WAAW,OAAO,wCAAU,YAAY;AACvC,kBAAgB,qBAAqB,mCAAK;AAC3C;AACA,IAAO,kCAAQ;",
  "names": []
}
